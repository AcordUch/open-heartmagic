# open-heartmagic
Python script for telegram for creating animation from a message

# Зависимости
pip install telethon

# Использование
- Запустите файл magical_editor.py. В папке configs будет создана заготовка config.ini
- Для работы с клиентским API необходимо создать приложение Telegram. Сделать это можно по [ссылке](https://my.telegram.org/apps). Здесь нас интересуют два значения: api_id и api_hash. Их необходимо прописать в файл config.ini
- После этого повторно запускаем файл magical_editor.py. В случае если у вас стоит двухфакторная аутентификация, необходимо ввести пароль от аккаунта. Далее вводим номер телефона и код подтверждения.
- 
- *Примечание: ключ сессии будет автоматически сохранен в config.ini для устранения необходимости входа в аккаунт при повторном использовании скрипта*
- *Примечание: в настройках телеграма во вкладке устройства можно увидеть активный сеанс скрипта. При его завершении необходимо удалить строку в config.ini и войти по новой*
- 
- Отправляем собеседнику одну из ключевых фраз, после чего начнется воспроизведение анимации.
- Используя символ "|" можно указать конечную фразу. Пример: /growH|I love u

# Список ключевых фраз
- /pulse_heart
- /growH

# Добавление новой анимации
Для добавления новой анимации в код необходимо выполнить следующие шаги:
- Создайте где либо список из строк, где каждый элемент - кадр для воспроизведения. Пример: файл templates.py
- В файле tape_factory.py определите статичный метод, который возвращает экземпляр класса AnimationTape, передав ему 3 значения(list\[str]):
     - Начальную часть
     - Циклическую часть
     - Конечную часть
- Добавьте в словарь TAPE_BY_COMMAND новую запись, где ключ - ключевая фраза; первый аргумент AnimationSetting - созданный ранее метод; второй аргумент - количество повторений цикличной части
